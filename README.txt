TODO: keep track of the inputs and outputs already added to the graph.
